(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{100:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__3iQjK",contactFormLabel:"ContactForm_contactFormLabel__3kXFx",contactFormBtn:"ContactForm_contactFormBtn__1L9eg",label:"ContactForm_label__1GXtS"}},101:function(t,e,n){t.exports={container:"ErrorNotification_container__3rfI6",text:"ErrorNotification_text__2Nj3H",enter:"ErrorNotification_enter__15Q5o",enterActive:"ErrorNotification_enterActive__cD69z",exit:"ErrorNotification_exit__1HamL",exitActive:"ErrorNotification_exitActive__3Zxx4"}},102:function(t,e,n){t.exports={TaskList:"ContactList_TaskList__eUIUc",contactListItem:"ContactList_contactListItem__x99wA",contactListBtn:"ContactList_contactListBtn__2NrSt",enter:"ContactList_enter__ipVbA",enterActive:"ContactList_enterActive__3jQLq",exit:"ContactList_exit__1io6K",exitActive:"ContactList_exitActive__rkoYZ"}},103:function(t,e,n){t.exports={contactFormLabel:"Filter_contactFormLabel__3SaIR",appear:"Filter_appear__3-bDp",appearActive:"Filter_appearActive__2TbOd"}},104:function(t,e,n){t.exports={appear:"ContactsView_appear__1TKO2",appearActive:"ContactsView_appearActive__Asz59",title:"ContactsView_title__2VF4t"}},108:function(t,e,n){"use strict";n.r(e);var a=n(20),c=n(21),o=n(23),r=n(22),i=n(2),s=n(0),u=n(96),l=n(4),m=n(100),d=n.n(m),b=n(17),p=n(16),h=n.n(p),j=n(10);h.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var f={addContact:function(t){var e=t.name,n=t.number;return function(t){t(j.a.addContactRequest()),h.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;t(j.a.addContactSuccess(n))})).catch((function(e){return t(j.a.addContactError(e))}))}},fetchContact:function(){return function(t){t(j.a.fetchContactRequest()),h.a.get("/contacts").then((function(e){var n=e.data;t(j.a.fetchContactSuccess(n))})).catch((function(e){return t(j.a.fetchContactError(e))}))}},removeContact:function(t){return function(e){e(j.a.removeContactRequest()),h.a.delete("/contacts/".concat(t)).then((function(){e(j.a.removeContactSuccess(t))})).catch((function(t){return e(j.a.removeContactError(t))}))}}},_=n(109),x=n(101),C=n.n(x),O=function(t){var e=t.contactAdded;return Object(i.jsx)(_.a,{in:e,timeout:250,classNames:C.a,unmountOnExit:!0,children:Object(i.jsx)("div",{className:C.a.container,children:Object(i.jsx)("p",{className:C.a.text,children:"Contact already declared"})})})},v=function(t){return t.contacts.filter},L=function(t){return t.contacts.items},F=function(t){return t.contacts.items.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filter.toLowerCase())}))},N=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:"",contactAdded:!1},t.handleChange=function(e){var n=e.target;t.setState(Object(l.a)({},n.name,n.value))},t.handleSubmit=function(e){if(e.preventDefault(),t.props.list.some((function(e){return e.name===t.state.name})))return t.setState({contactAdded:!0}),void setTimeout((function(){return t.setState({contactAdded:!1})}),2e3);t.props.addContact(Object(u.a)({},t.state)),t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.contactAdded;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(O,{contactAdded:a}),Object(i.jsxs)("form",{action:"submit",onSubmit:this.handleSubmit,className:d.a.contactForm,children:[Object(i.jsxs)("label",{className:d.a.contactFormLabel,children:["Name",Object(i.jsx)("input",{autoComplete:!0,required:!0,type:"text",name:"name",value:e,placeholder:"name",onChange:this.handleChange,className:d.a.label})]}),Object(i.jsxs)("label",{className:d.a.contactFormLabel,children:["Number",Object(i.jsx)("input",{required:!0,type:"tel",name:"number",placeholder:"number",value:n,onChange:this.handleChange,className:d.a.label})]}),Object(i.jsx)("input",{type:"submit",value:"Add contact",className:d.a.contactFormBtn})]})]})}}]),n}(s.Component),A={addContact:f.addContact},k=Object(b.b)((function(t){return{list:L(t)}}),A)(N),y=n(102),g=n.n(y),S=n(110),E=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsx)(S.a,{component:"ul",className:g.a.TaskList,children:this.props.list.map((function(e){return Object(i.jsx)(_.a,{timeout:250,classNames:g.a,children:Object(i.jsxs)("li",{className:g.a.contactListItem,children:[e.name," : ",e.number,Object(i.jsx)("button",{type:"button",onClick:function(){return t.props.deleteList(e.id)},className:g.a.contactListBtn,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},e.id)}))})}}]),n}(s.Component),w={deleteList:f.removeContact},R=Object(b.b)((function(t){return{list:F(t)}}),w)(E),q=n(103),B=n.n(q),I={filterRender:j.a.filterContact},T=Object(b.b)((function(t){return{filter:v(t)}}),I)((function(t){var e=t.filterRender,n=t.filter;return Object(i.jsx)(_.a,{in:!0,appear:!0,timeout:500,classNames:B.a,unmountOnExit:!0,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"name",className:B.a.contactFormLabel,children:"Find contacts by name"}),Object(i.jsx)("input",{type:"text",value:n,onChange:function(t){return e(t.target.value)}})]})})})),D=n(104),V=n.n(D),U=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.isAuthenticated?this.props.onFetchContacts():this.props.history.replace("/")}},{key:"componentDidUpdate",value:function(){this.props.isAuthenticated||this.props.history.replace("/")}},{key:"render",value:function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(_.a,{in:!0,appear:!0,timeout:500,classNames:V.a,unmountOnExit:!0,children:Object(i.jsx)("h1",{className:V.a.title,children:"Phonebook"})}),Object(i.jsx)(k,{}),Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)(T,{}),Object(i.jsx)(R,{})]})}}]),n}(s.Component),K={onFetchContacts:f.fetchContact};e.default=Object(b.b)((function(t){return{isAuthenticated:t.auth.token}}),K)(U)}}]);
//# sourceMappingURL=3.22cb3cec.chunk.js.map