(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{10:function(t,e,n){"use strict";var c=n(1),r=Object(c.b)("contacts/addRequest"),a=Object(c.b)("contacts/addSuccess"),o=Object(c.b)("contacts/addError"),u=Object(c.b)("contacts/fetchRequest"),s=Object(c.b)("contacts/fetchSuccess"),i=Object(c.b)("contacts/fetchError"),b=Object(c.b)("contacts/removeRequest"),j=Object(c.b)("contacts/removeSuccess"),l=Object(c.b)("contacts/removeError"),O=Object(c.b)("FILTER_CONTACTS");e.a={addContactRequest:r,addContactSuccess:a,addContactError:o,fetchContactRequest:u,fetchContactSuccess:s,fetchContactError:i,removeContactRequest:b,removeContactSuccess:j,removeContactError:l,filterContact:O}},18:function(t,e,n){"use strict";e.a={HomeView:"/",LoginView:"/login",RegisterView:"/register",ContactsView:"/contacts"}},25:function(t,e,n){"use strict";var c=n(16),r=n.n(c),a=n(5);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},u=function(){r.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(e){e(a.a.registerRequest()),r.a.post("/users/signup",t).then((function(t){o(t.data.token),e(a.a.registerSuccess(t.data))})).catch((function(t){return e(a.a.registerError(t))}))}},logOut:function(){return function(t){t(a.a.logoutRequest()),r.a.post("/users/logout").then((function(){u(),t(a.a.logoutSuccess())})).catch((function(e){return t(a.a.logoutError(e))}))}},logIn:function(t){return function(e){e(a.a.loginRequest()),r.a.post("/users/login",t).then((function(t){o(t.data.token),e(a.a.loginSuccess(t.data))})).catch((function(t){return e(a.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(o(n),t(a.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(e){var n=e.data;return t(a.a.getCurrentUserSuccess(n))})).catch((function(t){return a.a.getCurrentUserError(t)})))}}}},5:function(t,e,n){"use strict";var c=n(1),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),s=Object(c.b)("auth/loginSuccess"),i=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),j=Object(c.b)("auth/logoutSuccess"),l=Object(c.b)("auth/logoutError"),O=Object(c.b)("auth/getCurrentUserRequest"),g=Object(c.b)("auth/getCurrentUserSuccess"),h=Object(c.b)("auth/getCurrentUserError");e.a={registerRequest:r,registerSuccess:a,registerError:o,logoutRequest:b,logoutSuccess:j,logoutError:l,loginRequest:u,loginSuccess:s,loginError:i,getCurrentUserRequest:O,getCurrentUserSuccess:g,getCurrentUserError:h}},95:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u,s=n(2),i=n(0),b=n.n(i),j=n(24),l=n.n(j),O=n(20),g=n(21),h=n(23),f=n(22),d=n(18),p=n(32),m=n(7),C=n(17),S=n(25),v=Object(C.b)((function(t){return{name:t.auth.user.name,avatar:"https://e7.pngegg.com/pngimages/544/445/png-clipart-marge-simpson-catwoman-batman-homer-simpson-bart-simpson-catwoman-fictional-characters-fictional-character.png"}}),{onLogout:S.a.logOut})((function(t){var e=t.avatar,n=t.name,c=t.onLogout;return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:e,alt:"avatar",width:"50"}),Object(s.jsxs)("span",{children:["Welcome, ",n]}),Object(s.jsx)("button",{type:"button",onClick:c,children:"logout"})]})})),y=n(43),E=n.n(y),R=function(t){Object(h.a)(n,t);var e=Object(f.a)(n);function n(){return Object(O.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(s.jsx)(E.a,{type:"Rings",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),n}(b.a.Component),x=Object(i.lazy)((function(){return n.e(7).then(n.bind(null,105))})),k=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,106))})),q=Object(i.lazy)((function(){return n.e(6).then(n.bind(null,107))})),w=Object(i.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,108))})),U={loading:{color:"blue"}},V=function(t){Object(h.a)(n,t);var e=Object(f.a)(n);function n(){return Object(O.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(p.a,{children:Object(s.jsxs)(i.Suspense,{fallback:Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("h1",{style:U.loading,children:["Loading... ",Object(s.jsx)(R,{})]})}),children:[this.props.isAuthenticated&&Object(s.jsx)(v,{}),Object(s.jsxs)(m.d,{children:[Object(s.jsx)(m.b,{exact:!0,path:d.a.HomeView,component:x}),Object(s.jsx)(m.b,{exact:!0,path:d.a.LoginView,component:k}),Object(s.jsx)(m.b,{exact:!0,path:d.a.RegisterView,component:q}),Object(s.jsx)(m.b,{exact:!0,path:d.a.ContactsView,component:w}),Object(s.jsx)(m.a,{to:"/"})]})]})})})}}]),n}(i.Component),z=Object(C.b)((function(t){return{isAuthenticated:t.auth.token}}),{onGetCurrentUser:S.a.getCurrentUser})(V),L=n(44),A=n(4),F=n(46),B=n(8),I=n(10),T=n(1),G=Object(T.c)([],(c={},Object(A.a)(c,I.a.addContactSuccess,(function(t,e){return[].concat(Object(F.a)(t),[e.payload])})),Object(A.a)(c,I.a.fetchContactSuccess,(function(t,e){return e.payload})),Object(A.a)(c,I.a.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),H=Object(T.c)(!1,(r={},Object(A.a)(r,I.a.addContactRequest,(function(){return!0})),Object(A.a)(r,I.a.addContactSuccess,(function(){return!1})),Object(A.a)(r,I.a.addContactError,(function(){return!1})),Object(A.a)(r,I.a.fetchContactRequest,(function(){return!0})),Object(A.a)(r,I.a.fetchContactSuccess,(function(){return!1})),Object(A.a)(r,I.a.fetchContactError,(function(){return!1})),Object(A.a)(r,I.a.removeContactRequest,(function(){return!0})),Object(A.a)(r,I.a.removeContactSuccess,(function(){return!1})),Object(A.a)(r,I.a.removeContactError,(function(){return!1})),r)),J=Object(T.c)("",Object(A.a)({},I.a.filterContact,(function(t,e){return e.payload}))),D=Object(B.c)({items:G,loading:H,filter:J}),M=n(15),N=n(45),P=n.n(N),W=n(5),_={name:null,email:null},K=Object(T.c)(_,(a={},Object(A.a)(a,W.a.registerSuccess,(function(t,e){return e.payload.user})),Object(A.a)(a,W.a.loginSuccess,(function(t,e){return e.payload.user})),Object(A.a)(a,W.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(A.a)(a,W.a.logoutSuccess,(function(){return _})),a)),Q=Object(T.c)(null,(o={},Object(A.a)(o,W.a.registerSuccess,(function(t,e){return e.payload.token})),Object(A.a)(o,W.a.loginSuccess,(function(t,e){return e.payload.token})),Object(A.a)(o,W.a.logoutSuccess,(function(){return null})),o)),X=Object(T.c)(null,(u={},Object(A.a)(u,W.a.registerError,(function(t,e){return e.payload})),Object(A.a)(u,W.a.loginError,(function(t,e){return e.payload})),Object(A.a)(u,W.a.logoutError,(function(t,e){return e.payload})),Object(A.a)(u,W.a.getCurrentUserError,(function(t,e){return e.payload})),u)),Y=Object(B.c)({user:K,token:Q,error:X}),Z={key:"auth",storage:P.a,whitelist:["token"]},$=Object(T.a)({reducer:{contacts:D,auth:Object(M.g)(Z,Y)},middleware:Object(T.d)({serializableCheck:{ignoredActions:[M.a,M.f,M.b,M.c,M.d,M.e]}})}),tt=Object(M.h)($);l.a.render(Object(s.jsx)(C.a,{store:$,children:Object(s.jsx)(L.a,{loading:null,persistor:tt,children:Object(s.jsx)(z,{})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.367138f0.chunk.js.map